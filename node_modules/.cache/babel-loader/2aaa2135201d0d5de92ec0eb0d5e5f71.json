{"ast":null,"code":"var _jsxFileName = \"/home/kako/Documents/cafeteria/cafetereia-frontend/cafeteria-app/src/component/signup/Signup.jsx\",\n    _s = $RefreshSig$();\n\nimport \"./signup.css\";\nimport { useState } from \"react\";\nimport validator from \"validator\";\nimport { Link } from \"react-router-dom\";\nimport { signUpUser, updateProfileAvatar } from \"../../api\";\nimport useToken from \"../../hooks/useToken\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Signup() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [showAlert, setShowAlert] = useState(false);\n  const [emailError, setEmailError] = useState(\"\");\n  const [avatar, setAvatar] = useState(null);\n  const {\n    token,\n    setToken\n  } = useToken();\n\n  let usernameChange = e => {\n    console.log(e.target.value);\n    setUsername(e.target.value);\n    if (username.length < 3) e.target.style = \"border-color:#bc3942\";else e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  let passwordChange = e => {\n    setPassword(e.target.value);\n\n    if (password.length < 8) {\n      e.target.style = \"border-color:#bc3942\";\n    } else e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  let phoneChange = e => {\n    console.log(e.target.value);\n    setPhone(e.target.value);\n    if (phone.length < 11) e.target.style = \"border-color:#bc3942\";else e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  let addressChange = e => {\n    console.log(e.target.value);\n    setAddress(e.target.value);\n    if (address.length < 3) e.target.style = \"border-color:#bc3942\";else e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  let emailChange = e => {\n    setEmail(e.target.value);\n    e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  const onFileChange = e => {\n    console.log(\" On Change: \", e.target.files[0]);\n    setAvatar(e.target.files[0]);\n  };\n\n  const uploadAvatar = localToken => {\n    console.log(\"upadate avatar\");\n\n    if (avatar) {\n      const formData = new FormData();\n      formData.append(\"avatar\", avatar);\n      console.log(formData);\n\n      const updateAvatarReq = async () => {\n        await updateProfileAvatar(localToken, formData).then(res => {\n          console.log(res.data);\n          setAvatar(res.data.data.avatar);\n        }).catch(err => {\n          console.log(err);\n        });\n      };\n\n      updateAvatarReq();\n    }\n  };\n\n  let validateForm = () => {\n    console.log(\"username:\" + username + \" password: \" + password + \" Email : \" + email);\n\n    if (!validator.isEmail(email)) {\n      setEmailError(\"Please enter a valid Email!\");\n      return false;\n    } else setEmailError(\"\");\n\n    if (password.length < 8 || username.length < 3 || address.length < 3 || phone.length < 11) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (validateForm) {\n      console.log(username, password);\n      await signUpUser({\n        name: username,\n        email,\n        password,\n        address,\n        phone\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.token) {\n          setToken(res.data.token);\n\n          if (avatar) {\n            uploadAvatar(res.data.token);\n          }\n\n          console.log(\"123\");\n          window.location.href = \"/profile\";\n        } else {\n          setShowAlert(true);\n        }\n      }).catch(err => {\n        setToken(null);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row  g-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-section\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-5 m-4 p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"signup-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"signup-text\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"table\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          htmlFor: \"username\",\n                          children: \"Username\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 149,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          id: \"username\",\n                          className: \"form-control\",\n                          style: {\n                            width: '250px'\n                          },\n                          type: \"text\",\n                          name: \"username\",\n                          placeholder: \"Enter Username\",\n                          onChange: e => {\n                            usernameChange(e);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \" form-label\",\n                          htmlFor: \"email\",\n                          children: \"Email\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          id: \"email\",\n                          className: \"form-control\",\n                          style: {\n                            width: '250px'\n                          },\n                          type: \"email\",\n                          name: \"email\",\n                          placeholder: \"Enter Email\",\n                          onChange: e => {\n                            emailChange(e);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 175,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 168,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"form-label\",\n                            htmlFor: \"password\",\n                            children: \"Password\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 192,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: /*#__PURE__*/_jsxDEV(\"span\", {\n                              style: {\n                                color: \"#bc3942\"\n                              },\n                              children: [\" \", emailError]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 196,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 195,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 190,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-row\",\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            id: \"password\",\n                            style: {\n                              width: '250px'\n                            },\n                            className: \"form-control\",\n                            type: \"password\",\n                            name: \"password\",\n                            placeholder: \"Enter Password\",\n                            onChange: e => {\n                              passwordChange(e);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 205,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 203,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          htmlFor: \"phone\",\n                          children: \"Phone number\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 221,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mb-3 input-container\",\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            id: \"phone\",\n                            className: \"form-control\",\n                            type: \"text\",\n                            name: \"phone\",\n                            style: {\n                              width: '250px'\n                            },\n                            placeholder: \"Enter Phone\",\n                            onChange: e => {\n                              phoneChange(e);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 228,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 226,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          htmlFor: \"address\",\n                          children: \"Address\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mb-3 input-container\",\n                          children: /*#__PURE__*/_jsxDEV(\"input\", {\n                            id: \"address\",\n                            className: \"form-control\",\n                            type: \"text\",\n                            name: \"address\",\n                            style: {\n                              width: '250px'\n                            },\n                            placeholder: \"Enter Address\",\n                            onChange: e => {\n                              addressChange(e);\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 29\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"form-label\",\n                          htmlFor: \"photo\",\n                          children: \"photo\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 267,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            width: '250px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              color: \"#452115\"\n                            },\n                            children: \"Choose\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 271,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            className: \"form-control\",\n                            type: \"file\",\n                            name: \"avatar\",\n                            onChange: onFileChange,\n                            style: {\n                              width: '250px'\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 272,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 270,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-3 input-container \",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-success ms-auto d-block \",\n                    children: \"Signup\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"signin-Link\",\n                  children: [\"Already have an account\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/login\",\n                    style: {\n                      color: \"white\"\n                    },\n                    children: \"Log In\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Signup, \"fe+Bes0UR366fkp9sPLVM3jBpYY=\", false, function () {\n  return [useToken];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/home/kako/Documents/cafeteria/cafetereia-frontend/cafeteria-app/src/component/signup/Signup.jsx"],"names":["useState","validator","Link","signUpUser","updateProfileAvatar","useToken","Signup","email","setEmail","username","setUsername","password","setPassword","phone","setPhone","address","setAddress","showAlert","setShowAlert","emailError","setEmailError","avatar","setAvatar","token","setToken","usernameChange","e","console","log","target","value","length","style","passwordChange","phoneChange","addressChange","emailChange","onFileChange","files","uploadAvatar","localToken","formData","FormData","append","updateAvatarReq","then","res","data","catch","err","validateForm","isEmail","handleSubmit","preventDefault","name","window","location","href","width","color"],"mappings":"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","sourcesContent":["import \"./signup.css\";\nimport { useState } from \"react\";\nimport validator from \"validator\";\nimport { Link } from \"react-router-dom\";\n\n\nimport { signUpUser, updateProfileAvatar } from \"../../api\";\nimport useToken from \"../../hooks/useToken\";\n\nfunction Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n\n  const [showAlert, setShowAlert] = useState(false);\n\n  const [emailError, setEmailError] = useState(\"\");\n  const [avatar, setAvatar] = useState(null);\n\n  const { token, setToken } = useToken();\n\n  let usernameChange = (e) => {\n    console.log(e.target.value);\n    setUsername(e.target.value);\n    if (username.length < 3) e.target.style = \"border-color:#bc3942\";\n    else e.target.style = \"border-color:#d8e2dc\";\n  };\n  let passwordChange = (e) => {\n    setPassword(e.target.value);\n    if (password.length < 8) {\n      e.target.style = \"border-color:#bc3942\";\n    } else e.target.style = \"border-color:#d8e2dc\";\n  };\n  let phoneChange = (e) => {\n    console.log(e.target.value);\n    setPhone(e.target.value);\n    if (phone.length < 11) e.target.style = \"border-color:#bc3942\";\n    else e.target.style = \"border-color:#d8e2dc\";\n  };\n  let addressChange = (e) => {\n    console.log(e.target.value);\n    setAddress(e.target.value);\n    if (address.length < 3) e.target.style = \"border-color:#bc3942\";\n    else e.target.style = \"border-color:#d8e2dc\";\n  };\n  let emailChange = (e) => {\n    setEmail(e.target.value);\n    e.target.style = \"border-color:#d8e2dc\";\n  };\n\n  const onFileChange = (e) => {\n    console.log(\" On Change: \", e.target.files[0]);\n    setAvatar(e.target.files[0]);\n  }\n\n  const uploadAvatar = (localToken) => {\n    console.log(\"upadate avatar\");\n    if (avatar) {\n      const formData = new FormData();\n      formData.append(\"avatar\", avatar);\n\n      console.log(formData);\n      const updateAvatarReq = async () => {\n        await updateProfileAvatar(localToken, formData)\n          .then((res) => {\n            console.log(res.data);\n\n            setAvatar(res.data.data.avatar)\n\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n      updateAvatarReq();\n    }\n  }\n\n  let validateForm = () => {\n    console.log(\n      \"username:\" + username + \" password: \" + password + \" Email : \" + email\n    );\n    if (!validator.isEmail(email)) {\n      setEmailError(\"Please enter a valid Email!\");\n      return false;\n    } else setEmailError(\"\");\n\n    if (\n      password.length < 8 ||\n      username.length < 3 ||\n      address.length < 3 ||\n      phone.length < 11\n    ) {\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (validateForm) {\n      console.log(username, password);\n      await signUpUser({\n        name: username,\n        email,\n        password,\n        address,\n        phone,\n      })\n        .then((res) => {\n          console.log(res);\n          if (res.data.token) {\n            setToken(res.data.token);\n            if (avatar) {\n              uploadAvatar(res.data.token);\n            }\n            console.log(\"123\");\n\n            window.location.href = \"/profile\";\n          } else {\n            setShowAlert(true);\n          }\n        })\n        .catch((err) => {\n          setToken(null);\n        });\n    }\n  };\n\n  return (\n    <>\n      <div className=\"signup\">\n        <div className=\"container\">\n          <div className=\"row  g-0\">\n            <div className=\"col-5\">\n              <div className=\"image-section\"></div>\n            </div>\n            <div className=\"col-5 m-4 p-4\">\n              <div className=\"signup-content\">\n                <p className=\"signup-text\">Sign Up</p>\n                <form onSubmit={handleSubmit}>\n                  <table>\n                    <tbody>\n                      <tr>\n                        <td>\n                          <label className=\"form-label\" htmlFor=\"username\">\n                            Username\n                          </label>\n                        </td>\n                        <td>\n\n                          <input\n                            id=\"username\"\n                            className=\"form-control\"\n                            style={{ width: '250px' }}\n                            type=\"text\"\n                            name=\"username\"\n                            placeholder=\"Enter Username\"\n                            onChange={(e) => {\n                              usernameChange(e);\n                            }}\n                          />\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <label className=\" form-label\" htmlFor=\"email\">\n                            Email\n                          </label>\n                        </td>\n                        <td>\n                          <input\n                            id=\"email\"\n                            className=\"form-control\"\n                            style={{ width: '250px' }}\n                            type=\"email\"\n                            name=\"email\"\n                            placeholder=\"Enter Email\"\n                            onChange={(e) => {\n                              emailChange(e);\n                            }}\n                          />\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <div>\n\n                            <label className=\"form-label\" htmlFor=\"password\">\n                              Password\n                            </label>\n                            <p>\n                              <span style={{ color: \"#bc3942\" }}> {emailError}</span>\n                            </p>\n                          </div>\n\n                        </td>\n                        <td>\n\n                          <div className=\"form-row\">\n\n                            <input\n                              id=\"password\"\n                              style={{ width: '250px' }}\n                              className=\"form-control\"\n                              type=\"password\"\n                              name=\"password\"\n                              placeholder=\"Enter Password\"\n                              onChange={(e) => {\n                                passwordChange(e);\n                              }}\n                            />\n                          </div>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <label className=\"form-label\" htmlFor=\"phone\">\n                            Phone number\n                          </label>\n                        </td>\n                        <td>\n                          <div className=\"mb-3 input-container\">\n\n                            <input\n                              id=\"phone\"\n                              className=\"form-control\"\n                              type=\"text\"\n                              name=\"phone\"\n                              style={{ width: '250px' }}\n                              placeholder=\"Enter Phone\"\n                              onChange={(e) => {\n                                phoneChange(e);\n                              }}\n                            />\n                          </div>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <label className=\"form-label\" htmlFor=\"address\">\n                            Address\n                          </label>\n                        </td>\n                        <td>\n                          <div className=\"mb-3 input-container\">\n\n                            <input\n                              id=\"address\"\n                              className=\"form-control\"\n                              type=\"text\"\n                              name=\"address\"\n                              style={{ width: '250px' }}\n                              placeholder=\"Enter Address\"\n                              onChange={(e) => {\n                                addressChange(e);\n                              }}\n                            />\n                          </div>\n                        </td>\n                      </tr>\n                      <tr>\n                        <td>\n                          <label className=\"form-label\" htmlFor=\"photo\">photo</label>\n                        </td>\n                        <td>\n                          <div style={{ width: '250px' }}>\n                            <span style={{ color: \"#452115\" }}>Choose</span>\n                            <input className=\"form-control\" type=\"file\" name=\"avatar\" onChange={onFileChange} style={{ width: '250px' }} />\n                          </div>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n\n                  <div className=\"mb-3 input-container \">\n                    <button className=\"btn btn-success ms-auto d-block \">\n                      Signup\n                    </button>\n                  </div>\n                  <p className=\"signin-Link\">\n                    Already have an account{\" \"}\n                    <Link\n                      to=\"/login\"\n                      style={{\n                        color: \"white\",\n                      }}\n                    >\n                      Log In\n                    </Link>\n                  </p>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}